"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[528],{15484:(e,a,s)=>{s.d(a,{c:()=>t});s(69060);var c=s(40012),n=s(82496);const t=()=>(0,n.jsx)("nav",{children:(0,n.jsxs)("ul",{className:"nav flex-column",children:[(0,n.jsx)("li",{className:"nav-item",children:(0,n.jsx)(c.cH,{to:"/admin/dashboard",className:"nav-link",children:"Dashboard"})}),(0,n.jsx)("li",{className:"nav-item",children:(0,n.jsx)(c.cH,{to:"/admin/product",className:"nav-link",children:"product"})}),(0,n.jsx)("li",{className:"nav-item",children:(0,n.jsx)(c.cH,{to:"/admin/products",className:"nav-link",children:"products"})}),(0,n.jsx)("li",{className:"nav-item",children:(0,n.jsx)(c.cH,{to:"/admin/category",className:"nav-link",children:"Category"})}),(0,n.jsx)("li",{className:"nav-item",children:(0,n.jsx)(c.cH,{to:"/admin/subcategory",className:"nav-link",children:"Sub Category"})}),(0,n.jsx)("li",{className:"nav-item",children:(0,n.jsx)(c.cH,{to:"/admin/coupons",className:"nav-link",children:"Coupons"})}),(0,n.jsx)("li",{className:"nav-item",children:(0,n.jsx)(c.cH,{to:"/user/password",className:"nav-link",children:"Password"})})]})})},29528:(e,a,s)=>{s.r(a),s.d(a,{default:()=>l});var c=s(69060),n=s(15484),t=s(98372);var r=s(4992),d=s(82496);const l=()=>{const[e,a]=(0,c.useState)([]),{user:s}=(0,r.w1)((e=>({...e}))),l=["Not Processed","Processing","Dispatched","Cancelled","Completed"];(0,c.useEffect)((()=>{(async e=>{try{return await t.c.get("".concat("https://ecommerce-advanced.onrender.com/api/v1","/admin/allorders"),{headers:{authtoken:e}})}catch(a){throw console.log(a),a}})(s.token).then((e=>{console.log(e.data),a(e.data)}))}),[]);const i=async(c,n)=>{console.log("Handling action for order:",c);try{const r={orderId:c,orderStatus:n},d=await(async(e,a)=>{try{return await t.c.put("".concat("https://ecommerce-advanced.onrender.com/api/v1","/admin/allorders/order-status"),{data:a},{headers:{authtoken:e}})}catch(s){throw console.log(s),s}})(s.token,r);console.log("Order status updated:",d.data);const l=e.map((e=>e._id===c?{...e,status:n}:e));a(l)}catch(r){console.error("Error updating order status:",r)}};return(0,d.jsx)(d.Fragment,{children:(0,d.jsx)("div",{className:"container-fluid",children:(0,d.jsxs)("div",{className:"row",children:[(0,d.jsx)("div",{className:"col-md-2",children:(0,d.jsx)(n.c,{})}),(0,d.jsxs)("div",{className:"col",children:[(0,d.jsx)("h2",{children:"Admin Dashboard"}),(0,d.jsxs)("table",{className:"table table-bordered",children:[(0,d.jsx)("thead",{children:(0,d.jsxs)("tr",{children:[(0,d.jsx)("th",{children:"Order ID"}),(0,d.jsx)("th",{children:"Ordered By"}),(0,d.jsx)("th",{children:"Total Price"}),(0,d.jsx)("th",{children:"Order Status"}),(0,d.jsx)("th",{children:"Actions"})]})}),(0,d.jsx)("tbody",{children:e.map(((e,a)=>(0,d.jsxs)("tr",{children:[(0,d.jsx)("td",{children:e._id}),(0,d.jsx)("td",{children:e.orderdBy.name}),(0,d.jsx)("td",{children:(e.totalPrice/100).toFixed(2)}),(0,d.jsx)("td",{children:(0,d.jsx)("select",{value:e.status,className:"form-control",onChange:a=>i(e._id,a.target.value),children:l.map(((e,a)=>(0,d.jsx)("option",{value:e,children:e},a)))})}),(0,d.jsx)("td",{children:(0,d.jsx)("button",{className:"btn btn-primary",onClick:()=>i(e._id,e.status),children:"Update Status"})})]},a)))})]})]})]})})})}}}]);
//# sourceMappingURL=528.a46b81a6.chunk.js.map