(self.webpackChunkclient=self.webpackChunkclient||[]).push([[716],{21120:(e,s,r)=>{"use strict";r.d(s,{c:()=>l});r(69060);var c=r(40012),i=r(82496);const l=()=>(0,i.jsx)("nav",{children:(0,i.jsxs)("ul",{className:"nav flex-column",children:[(0,i.jsx)("li",{className:"nav-item mt-3 mx-3 ",children:(0,i.jsx)(c.cH,{to:"/user/history",className:"nav-link",children:"History"})}),(0,i.jsx)("li",{className:"nav-item mt-3 mx-3",children:(0,i.jsx)(c.cH,{to:"/user/password",className:"nav-link",children:"Password"})}),(0,i.jsx)("li",{className:"nav-item mt-3 mx-3",children:(0,i.jsx)(c.cH,{to:"/user/wishlist",className:"nav-link",children:"Wishlist"})})]})})},59528:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>x});var c=r(69060),i=r(21120),l=r(98372);var t=r(4992),d=r(15637),a=r(63044),n=(r(51228),r(70248)),o=r(82496);const h=n.Un.create({page:{flexDirection:"row",backgroundColor:"#E4E4E4"},section:{margin:10,padding:10,flexGrow:1}}),x=()=>{const[e,s]=(0,c.useState)([]),{user:r}=(0,t.w1)((e=>({...e})));(0,c.useEffect)((()=>{(async e=>await l.c.get("".concat("https://ecommerce-advanced.onrender.com/api/v1","/orders/allOrders"),{headers:{authtoken:e}}))(r.token).then((e=>{console.log(e.data),s(e.data)}))}),[]);const x=e=>{const s=(0,o.jsx)(n.a8,{children:(0,o.jsx)(n.K2,{size:"A4",style:h.page,children:(0,o.jsxs)(n.Uv,{style:h.section,children:[(0,o.jsxs)(n.a,{children:["Invoice for Order ID: ",e._id]}),(0,o.jsxs)(n.a,{children:["Date: ",e.createdAt]}),(0,o.jsxs)(n.a,{children:["Customer: ",r.email]}),(0,o.jsx)(n.a,{children:"--------------------------"}),(0,o.jsx)(n.a,{children:"Products:"}),(0,o.jsx)(n.Uv,{children:e.products.map(((e,s)=>{var r;return(0,o.jsxs)(n.a,{children:[null===(r=e.product)||void 0===r?void 0:r.title," - \u20b9",e.price.toFixed(2)]},s)}))}),(0,o.jsxs)(n.a,{children:["Total Price: \u20b9",(e.totalPrice/100).toFixed(2)]})]})})});return(0,o.jsx)(n.gf,{document:s,fileName:"invoice_".concat(e._id,".pdf"),children:e=>{let{blob:s,url:r,loading:c,error:i}=e;return c?"Loading document...":"Download PDF"}})},j=e=>(0,o.jsxs)("table",{className:"table table-bordered",children:[(0,o.jsx)("thead",{className:"thead-light",children:(0,o.jsxs)("tr",{children:[(0,o.jsx)("th",{children:"Title"}),(0,o.jsx)("th",{children:"Description"}),(0,o.jsx)("th",{children:"Price"}),(0,o.jsx)("th",{children:"color"}),(0,o.jsx)("th",{children:"Quantity"}),(0,o.jsx)("th",{children:"Shipping"}),(0,o.jsx)("th",{children:"Total Price"})]})}),(0,o.jsx)("tbody",{children:e.products.map(((e,s)=>{var r,c,i;return(0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{children:null===(r=e.product)||void 0===r?void 0:r.title}),(0,o.jsx)("td",{children:null===(c=e.product)||void 0===c?void 0:c.description}),(0,o.jsxs)("td",{children:["\u20b9",e.price?e.price.toFixed(2):""]}),(0,o.jsx)("td",{children:e.color})," ",(0,o.jsx)("td",{children:e.count}),(0,o.jsx)("td",{children:"Yes"==(null===(i=e.product)||void 0===i?void 0:i.shipping)?(0,o.jsx)(d.c,{style:{color:"green"}}):(0,o.jsx)(a.c,{style:{color:"red"}})}),(0,o.jsx)("td",{children:e.totalPrice&&!isNaN(e.totalPrice)?(e.totalPrice/100).toFixed(2):""})]},s)}))}),(0,o.jsx)("tfoot",{children:(0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{colSpan:"6",children:"Total:"}),(0,o.jsxs)("td",{children:["\u20b9",e.totalPrice&&!isNaN(e.totalPrice)?(e.totalPrice/100).toFixed(2):""]})]})})]});return(0,o.jsx)(o.Fragment,{children:(0,o.jsx)("div",{className:"container-fluid",children:(0,o.jsxs)("div",{className:"row",children:[(0,o.jsx)("div",{className:"col-md-2",children:(0,o.jsx)(i.c,{})}),(0,o.jsxs)("div",{className:"col text-center ",children:[(0,o.jsxs)("h4",{className:"mt-4 ",style:{marginBottom:" -15px"},children:[" ",e.length?"User History Page":"No Orders Yet"]}),e.map(((e,s)=>(0,o.jsxs)("div",{className:"m-5 p-3 card ",children:[(0,o.jsxs)("p",{children:["Show payment info:"," ",(0,o.jsx)("span",{className:"fw-bold mx-3 ",children:"Razorpay_Order_id :"})," ",e.razorpay_order_id," ",(0,o.jsx)("span",{className:"fw-bold mx-3 ",children:"Order Status : "})," ",e.orderStatus]}),j(e),(0,o.jsx)("div",{className:"row",children:(0,o.jsx)("div",{className:"col text-center",children:(0,o.jsx)("p",{children:x(e)})})})]},s)))]})]})})})}},89392:()=>{}}]);
//# sourceMappingURL=716.6a8f89e5.chunk.js.map