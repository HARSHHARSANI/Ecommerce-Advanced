"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[936],{8912:(e,t,s)=>{s.d(t,{c:()=>x});var a=s(4152),c=s(4212),l=s(9060),n=s(748),o=s(9868),r=s(12),i=s(2223),d=s(7899),p=s(4104),u=s.n(p),g=s(4992),h=s(2496);const{Meta:m}=a.default,x=e=>{let{product:t}=e;const s=(0,g.OY)(),[p,x]=(0,l.useState)("Add To Cart"),{title:j,images:b,slug:f,description:y,price:v,category:N,subCategory:S,quantity:w,shipping:C,color:k,brand:P}=t,{cart:R}=(0,g.w1)((e=>({...e})));return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("div",{children:t&&t.rating&&t.rating.length>0?(0,d.F)(t):(0,h.jsx)("div",{className:"text-center pt-1 pb-3",children:" No Rating Yet"})}),(0,h.jsx)(a.default,{hoverable:!0,style:{width:360},cover:(0,h.jsx)("img",{alt:"example",src:b&&b.length?b[0].url:i,style:{objectFit:"cover",height:"250px"},className:"p-1"}),actions:[(0,h.jsxs)(r.cH,{to:"/products/".concat(f),children:[(0,h.jsx)(n.c,{className:"text-warning",onClick:()=>{}}),(0,h.jsx)("br",{}),"View Product"]}),(0,h.jsx)(c.c,{title:p,children:(0,h.jsxs)("a",{onClick:()=>{let e=[];if(void 0!==typeof window){localStorage.getItem("cart")&&(e=JSON.parse(localStorage.getItem("cart"))),e.push({...t,count:1});const a=u().uniqWith(e,u().isEqual);localStorage.setItem("cart",JSON.stringify(a)),x("Added"),s({type:"ADD_TO_CART",payload:a}),s({type:"SET_VISIBLE",payload:!0})}},children:[(0,h.jsx)(o.c,{className:"text-danger",onClick:()=>{}}),(0,h.jsx)("br",{}),"Add to Cart"]})})],children:(0,h.jsx)(m,{title:"".concat(j," - $").concat(v),description:"".concat(y&&y.substring(0,80),"...")})})]})}},7899:(e,t,s)=>{s.d(t,{F:()=>l});s(9060);var a=s(4032),c=s(2496);const l=e=>{if(e&&e.rating){const t=e&&e.rating;let s=[];const l=t.length;t.map((e=>s.push(e.star)));let n=s.reduce(((e,t)=>e+t),0);console.log("totalReduced",n);const o=n/l;return console.log(o),(0,c.jsx)("div",{className:"text-center pt-1 pb-3",children:(0,c.jsxs)("span",{children:[" ",(0,c.jsx)(a.c,{starDimension:"20px",starSpacing:"2px",rating:o,starRatedColor:"red",editing:!1})," ","(",e.rating.length,")"]})})}}},1056:(e,t,s)=>{s.d(t,{KM:()=>r,M$:()=>l,Sm:()=>u,YB:()=>i,_K:()=>c,az:()=>n,eO:()=>g,kD:()=>p,o7:()=>o,yO:()=>d});var a=s(8372);const c=async e=>{try{console.log("im inside getSingleProduct");const t=await a.c.get("".concat("http://localhost:8080/api/v1","/product/product/").concat(e));return console.log("sending response from getSingleProduct",t),t.data}catch(t){console.log(t)}},l=async(e,t)=>{try{console.log("inside createProduct");const s=await a.c.post("".concat("http://localhost:8080/api/v1","/product/product"),e,{headers:{authtoken:t}});return console.log("createProduct response :->",s),s}catch(s){console.log(s)}},n=async e=>{try{console.log("im inside getProductByCount ");const t=await a.c.get("".concat("http://localhost:8080/api/v1","/product/products/").concat(e));return console.log(t),t}catch(t){console.log(t)}},o=async(e,t)=>{try{const s=await a.c.delete("".concat("http://localhost:8080/api/v1","/product/product/").concat(e),{headers:{authtoken:t}});return console.log("inside removeProduct",s),s.data}catch(s){console.log(s)}},r=async(e,t,s)=>{try{return await a.c.put("".concat("http://localhost:8080/api/v1","/product/product/").concat(e),t,{headers:{authtoken:s}})}catch(c){console.log(c)}},i=async(e,t,s)=>{try{console.log("im inside getSortedProducts");const c=await a.c.post("".concat("http://localhost:8080/api/v1","/product/sortedProducts"),{sort:e,order:t,page:s});return console.log("Sending Response from getSortedProducts",c),c.data}catch(c){console.log(c)}},d=async(e,t)=>{console.log("inside totalProducts");const s=await a.c.get("".concat("http://localhost:8080/api/v1","/product/products/total"));return console.log("Sending response from totalProducts",s),s},p=async(e,t,s)=>{try{const c=await a.c.put("".concat("http://localhost:8080/api/v1","/product/product/star/").concat(e),{star:t},{headers:{authtoken:s}});return console.log("response form updateProductRating",c.data),c}catch(c){console.log(c)}},u=async e=>{try{const t=a.c.get("".concat("http://localhost:8080/api/v1","/product/products/related/").concat(e));return console.log(t),t}catch(t){console.log(t)}},g=async e=>{try{console.log("im inside searchProducts");const t=await a.c.post("".concat("http://localhost:8080/api/v1","/product/search/filters"),e);return console.log(t),t}catch(t){console.log(t)}}},5048:(e,t,s)=>{s.r(t),s.d(t,{default:()=>A});var a=s(9060),c=s(1560),l=s(1056),n=s(4152),o=s(7510),r=s(4212),i=s(2223),d=s(5922),p=s(9868),u=s(12),g=s(9420),h=(s(4968),s(2496));const m=e=>{let{product:t}=e;const{title:s,images:a,slug:c,description:l,price:n,category:o,subCategory:r,quantity:i,shipping:d,color:p,brand:g}=t;return(0,h.jsx)(h.Fragment,{children:(0,h.jsxs)("ul",{className:"list-group",children:[(0,h.jsxs)("li",{className:"list-group-item d-flex justify-content-between align-items-center",children:[(0,h.jsx)("span",{children:"Title"}),(0,h.jsx)("span",{className:"label label-default label-pill",children:s})]}),(0,h.jsxs)("li",{className:"list-group-item d-flex justify-content-between align-items-center",children:[(0,h.jsx)("span",{children:"Price"}),(0,h.jsxs)("span",{className:"label label-default label-pill",children:[" $",n]})]}),o&&(0,h.jsxs)("li",{className:"list-group-item d-flex justify-content-between align-items-center",children:[(0,h.jsx)("span",{children:"Category"}),(0,h.jsx)(u.cH,{to:"/category/".concat(o.slug),className:"label label-default label-pill",children:o.name})]}),r&&(0,h.jsxs)("li",{className:"list-group-item d-flex justify-content-between align-items-center",children:[(0,h.jsx)("span",{children:"Sub Category"}),(0,h.jsx)("span",{className:"label label-default label-pill",children:r.map((e=>(0,h.jsxs)(u.cH,{to:"/subcategory/".concat(e.slug),children:[e.name," ","  "]},e.id)))})]}),(0,h.jsxs)("li",{className:"list-group-item d-flex justify-content-between align-items-center",children:[(0,h.jsx)("span",{children:"Available"}),(0,h.jsx)("span",{className:"label label-default label-pill",children:i})]}),(0,h.jsxs)("li",{className:"list-group-item d-flex justify-content-between align-items-center",children:[(0,h.jsx)("span",{children:"Sold"}),(0,h.jsx)("span",{className:"label label-default label-pill",children:i})]}),(0,h.jsxs)("li",{className:"list-group-item d-flex justify-content-between align-items-center",children:[(0,h.jsx)("span",{children:"Sold"}),(0,h.jsx)("span",{className:"label label-default label-pill",children:g})]}),(0,h.jsxs)("li",{className:"list-group-item d-flex justify-content-between align-items-center",children:[(0,h.jsx)("span",{children:"Shipping"}),(0,h.jsx)("span",{className:"label label-default label-pill",children:d})]})]})})};var x=s(4032),j=s(8384),b=s(1228),f=s(4992),y=s(4168);const v=e=>{let{children:t}=e;const{user:s}=(0,f.w1)((e=>({...e}))),[l,n]=(0,a.useState)(!1),o=(0,c.i6)(),{slug:r}=(0,c.W4)(),i=(0,c.IT)();return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("div",{onClick:()=>{s&&s.token?n(!0):o("/login",{state:i.pathname})},children:[(0,h.jsx)(y.c,{className:"text-danger"})," ",(0,h.jsx)("br",{}),s?"Leave Rating":"Login To Leave Rating"]}),(0,h.jsxs)(j.c,{title:"Leave Your Rating",centered:!0,visible:l,onOk:()=>{n(!1),b.m4.success("Thanks For your Review ,  It will Apprear Sooon!!")},onCancel:()=>{n(!1)},children:[" ",t]})]})};var N=s(7899),S=s(4104),w=s.n(S);const{Meta:C}=n.default,{TabPane:k}=o.default,P=e=>{let{product:t,onStarClick:s,star:c}=e;const{title:l,images:j,description:b,_id:y}=t,{user:S,cart:C}=(0,f.w1)((e=>({...e}))),P=(0,f.OY)(),[R,A]=(0,a.useState)("Add To Cart");return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("div",{className:"col-md-7",children:[j&&j.length?(0,h.jsx)(g.ER,{showArrows:!0,autoPlay:!0,infiniteLoop:!0,children:j&&j.map((e=>(0,h.jsx)("img",{src:e.url},e.public_id)))}):(0,h.jsx)(n.default,{cover:(0,h.jsx)("img",{alt:"example",src:i,className:"mb-3 card-image"})}),(0,h.jsxs)(o.default,{type:"card",children:[(0,h.jsx)(k,{tab:"description",className:"h5",children:b&&b},1),(0,h.jsx)(k,{tab:"More",className:"fw-bold h5",children:"Contact Us on harshharsani007@gmail.com for any other info"},2)]})]}),(0,h.jsxs)("div",{className:"col-md-5",children:[(0,h.jsx)("h1",{className:"text-bg-info",children:l}),t&&t.rating&&t.rating.length>0?(0,N.F)(t):(0,h.jsx)("div",{className:"text-center pt-1 pb-3",children:" No Rating Yet"}),(0,h.jsx)(n.default,{actions:[(0,h.jsxs)(u.cH,{to:"/",children:[(0,h.jsx)(d.c,{className:"text-success",onClick:()=>{}}),(0,h.jsx)("br",{}),"Add to Wishlist"]}),(0,h.jsxs)(h.Fragment,{children:[" ",(0,h.jsx)(r.c,{title:R,children:(0,h.jsxs)("a",{onClick:()=>{let e=[];if(void 0!==typeof window){localStorage.getItem("cart")&&(e=JSON.parse(localStorage.getItem("cart"))),e.push({...t,count:1});const s=w().uniqWith(e,w().isEqual);localStorage.setItem("cart",JSON.stringify(s)),A("Added"),P({type:"ADD_TO_CART",payload:s}),P({type:"SET_VISIBLE",payload:!0})}},children:[(0,h.jsx)(p.c,{className:"text-danger",onClick:()=>{}}),(0,h.jsx)("br",{}),"Add to Cart"]})})]}),(0,h.jsx)(h.Fragment,{children:(0,h.jsx)(v,{children:(0,h.jsx)(x.c,{classname:"text-danger",name:y,numberOfStars:5,rating:c,changeRating:s,isSelectable:!0,asdasdasd:!0,starRatedColor:"red"})})})],children:(0,h.jsx)(m,{product:t})})]})]})};var R=s(8912);const A=()=>{const{slug:e}=(0,c.W4)(),{user:t}=(0,f.w1)((e=>({...e}))),[s,n]=(0,a.useState)({title:"",description:"",price:"",category:"",subCategory:[],shipping:"",quantity:"",images:[],colors:["Black","Brown","White","Silver","Blue"],brands:["Apple","Microsoft","Lenovo","Asus","Dell","Hp","Jio","Samsung","MSI"],color:"",brand:"",rating:[]}),[o,r]=(0,a.useState)(0),[i,d]=(0,a.useState)(null),p=()=>{(0,l._K)(e).then((e=>{console.log(e),n({...s,...e.product}),(0,l.Sm)(e.product._id).then((e=>{console.log(e),d(e.data)}))}))};(0,a.useEffect)((()=>{p()}),[e]),(0,a.useEffect)((()=>{var e;const a=null===s||void 0===s||null===(e=s.rating)||void 0===e?void 0:e.find((e=>e.postedBy.toString()===t.id.toString()));a&&r(a.star)}),[s.rating,t]);return(0,h.jsx)(h.Fragment,{children:(0,h.jsxs)("div",{className:"conatainer",children:[(0,h.jsx)("div",{className:"row pt-4",children:(0,h.jsx)(P,{product:s,onStarClick:(e,s)=>{r(e),(0,l.kD)(s,e,t.token).then((e=>{console.log("response from updateProductRating",e),p()}))},star:o})}),(0,h.jsx)("div",{className:"row h3 p-5 flex-row",children:(0,h.jsx)("div",{className:"col text-center pt-1 pb-1",children:"Related Products"})}),(0,h.jsxs)("div",{className:"row pb-5",children:[" ",i&&i.map((e=>(0,h.jsx)("div",{className:"col-md-4 mx1 p-3",children:(0,h.jsx)(R.c,{product:e})},e._id)))]})]})})}},2223:(e,t,s)=>{e.exports=s.p+"static/media/default image.f013b76b3a812035fb53.jpg"}}]);
//# sourceMappingURL=936.4563fc77.chunk.js.map